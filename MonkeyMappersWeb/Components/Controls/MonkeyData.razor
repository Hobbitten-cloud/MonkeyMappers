@inject IPlayerRepo PlayerRepo

<h3 class="mb-3">Information for players</h3>

@if (players != null)
{
    <p class="text-muted">
        Total <strong>@players.Count</strong> players have played the map
    </p>

    <div class="list-group shadow-sm">
        @foreach (var player in players)
        {
            <div class="list-group-item d-flex justify-content-between align-items-center">
                <div>
                    <div class="fw-semibold">@player.Name</div>
                    <small class="text-muted">@player.SteamId</small>
                </div>

                <span class="badge bg-secondary">Player</span>
            </div>
        }
    </div>
}
else
{
    <div class="text-center text-muted">
        <div class="spinner-border spinner-border-sm me-2"></div>
        Loading players...
    </div>
}

@code {
    private List<Player> players { get; set; }
    private ISortService sortService { get; set; }

    // Loads all posts to feed
    protected override async Task OnInitializedAsync()
    {
        players = await PlayerRepo.GetAllPlayers();
    }
}
